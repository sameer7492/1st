<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Firework Surprise</title>
  <style>
    body {
      margin: 0;
      background: radial-gradient(#000000 40%, #0a0a30);
      overflow: hidden;
    }

    canvas {
      display: block;
    }

    .star {
      position: absolute;
      color: white;
      font-size: 6px; /* ⭐ smaller stars now */
      animation: twinkle 2s infinite;
      pointer-events: none;
    }

    @keyframes twinkle {
      0%, 100% {
        opacity: 0.2;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.3);
      }
    }
    .link-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 15px 30px;
      background-color: #ff4081;
      color: white;
      text-decoration: none;
      font-size: 20px;
      border-radius: 10px;
      border: none;
      transition: transform 0.3s, background-color 0.3s;
      font-family: Arial, sans-serif;
      box-shadow: 0 0 10px #ff4081;
    }
    .link-button:hover {
      background-color: #e91e63;
      transform: scale(1.1);
      box-shadow: 0 0 20px #ff4081;
    }


    .surprise-button {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 28px;
      font-size: 20px;
      background: gold;
      color: maroon;
      font-weight: bold;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 0 20px orange;
      z-index: 10;
    }
   #surpriseText {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      font-size: 55px;
      color: #fff;
      font-weight: bold;
      text-shadow:
        0 0 10px #ff00cc,
        0 0 20px #ff00cc,
        0 0 30px #ff99cc,
        0 0 40px #ff99cc;
      opacity: 0;
      white-space: nowrap;
      z-index: 20;
    }

    .show-text {
      animation: showZoomText 1.2s ease-out forwards;
    }

    @keyframes showZoomText {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
        filter: blur(10px);
      }
      60% {
        transform: translate(-50%, -50%) scale(1.3);
        opacity: 1;
        filter: blur(0);
      }
      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

  </style>
</head>
<body>
    <a href="k13.html" class="link-button">NEXT</a>

<canvas id="fireworkCanvas"></canvas>

<button class="surprise-button" onclick="showSurpriseText()">SURPRISE</button>

  <div id="surpriseText"> HAPPY BIRTHDAY MERI LADLI JAAN </div>

<script>
  const canvas = document.getElementById('fireworkCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  class Firework {
    constructor(x, y, targetY, color, isSurprise = false) {
      this.x = x;
      this.y = y;
      this.targetY = targetY;
      this.color = color;
      this.speedY = -7;
      this.exploded = false;
      this.particles = [];
      this.isSurprise = isSurprise;
    }

    update() {
      if (!this.exploded) {
        this.y += this.speedY;
        if (this.y <= this.targetY) {
          this.exploded = true;
          this.explode();
        }
      } else {
        this.particles.forEach(p => p.update());
      }
    }

    explode() {
      if (this.isSurprise) {
        showMessage(this.x, this.y);
      }
      for (let i = 0; i < 100; i++) {
        this.particles.push(new Particle(this.x, this.y, this.color));
      }
    }

    draw(ctx) {
      if (!this.exploded) {
        ctx.beginPath();
        ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
      } else {
        this.particles.forEach(p => p.draw(ctx));
      }
    }

    isDone() {
      return this.exploded && this.particles.every(p => p.alpha <= 0);
    }
  }

  class Particle {
    constructor(x, y, color) {
      this.x = x;
      this.y = y;
      this.speedX = (Math.random() - 0.5) * 6;
      this.speedY = (Math.random() - 0.5) * 6;
      this.gravity = 0.05;
      this.alpha = 1;
      this.color = color;
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.speedY += this.gravity;
      this.alpha -= 0.015;
    }

    draw(ctx) {
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.beginPath();
      ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
      ctx.fillStyle = this.color;
      ctx.fill();
      ctx.restore();
    }
  }

  const fireworks = [];

  function createFirework() {
    const x = Math.random() * canvas.width;
    const y = canvas.height;
    const targetY = Math.random() * canvas.height / 2;
    const color = `hsl(${Math.random() * 360}, 100%, 60%)`;
    fireworks.push(new Firework(x, y, targetY, color));
  }

  function animate() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    fireworks.forEach((f, index) => {
      f.update();
      f.draw(ctx);
      if (f.isDone()) {
        fireworks.splice(index, 1);
      }
    });

    requestAnimationFrame(animate);
  }

  setInterval(createFirework, 800);
  animate();

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });

  function createStars(count) {
    for (let i = 0; i < count; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.textContent = '★';
      star.style.left = Math.random() * window.innerWidth + 'px';
      star.style.top = Math.random() * window.innerHeight + 'px';
      star.style.fontSize = (5 + Math.random() * 4) + 'px'; // Smaller stars
      star.style.animationDuration = (1 + Math.random() * 2) + 's';
      document.body.appendChild(star);
    }
  }

  createStars(500);

  let isTextVisible = false;
  function showSurpriseText() {
    const textEl = document.getElementById('surpriseText');
    if (!isTextVisible) {
      textEl.classList.remove('hide-text');
      void textEl.offsetWidth; // reflow to reset animation
      textEl.classList.add('show-text');
      isTextVisible = true;
    } else {
      textEl.classList.remove('show-text');
      void textEl.offsetWidth;
      textEl.classList.add('hide-text');
      isTextVisible = false;
    }
  }

  document.head.appendChild(style);
</script>
</body>
</html>
